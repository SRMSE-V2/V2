!function(){"use strict"
$(document).ready(function(){function e(e,t,i){if("js"==t){var a=document.createElement("script")
a.setAttribute("type","text/javascript"),a.setAttribute("src",e)}else if("css"==t){var a=document.createElement("link")
a.setAttribute("rel","stylesheet"),a.setAttribute("type","text/css"),a.setAttribute("href",e),a.setAttribute("id",i)}return"undefined"!=typeof a&&document.getElementsByTagName("head")[0].appendChild(a),a}function t(){if("undefined"!=typeof Storage){var e=Object.keys(localStorage)
$.each(e,function(e,t){t.indexOf(H)<0&&t.indexOf("autocomplete")<0&&localStorage.removeItem(t)})}}function i(e,t){elChild=document.createElement("style"),elChild.setAttribute("id",t),elChild.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(elChild)}function a(){$("#modalSwitchTheme").remove(),"dark"===window.color?L="rgba(241, 241, 241, 0.74)":"light"===window.color&&(L="rgba(51, 51, 51, 0.74)")
var e=$('<div id="modalSwitchTheme"  style="width:'+$(document).width()+"px;height:"+$(document).height()+"px;position:absolute;left:0px;top:0px;z-index:1000;background-color:"+L+';"></div>')
e.hide().appendTo("body").fadeIn(1e3)}function o(e){window.location="/cgi-bin/s.py?q="+encodeURIComponent(e)}function r(e){var t=e.children()
$.each(t,function(e,t){try{$(t).attr("class").indexOf("infobox")<0&&$(t).remove()}catch(i){$(t).remove()}}),$.each(e.contents(),function(e,t){try{"TABLE"!==$(t).prop("tagName")&&$(t).remove()}catch(i){$(t).remove()}})}function n(){var e=$(G.replace(/<img (.*?)\/>/g,"").replace(/\?+/g,""))
e.find(".hatnote").remove(),e.find(".ambox").remove(),e.find(".error").remove(),e.find(".mw-ext-cite-error").remove(),e.find("#softredirect").remove(),e.addClass("module").attr("id","wiki"),$.each(e.find("a"),function(){if($(this).addClass("wiki_link"),$(this).attr("href")&&$(this).attr("href").indexOf("File")>=0){$(this).text("")
var e=$("<img>"),t=$(this).attr("href").split("/")
"Decrease"===$(this).parent().attr("title")||"Increase"===$(this).parent().attr("title")||"File:Decrease Positive.svg"===$(this).attr("title")?e.attr("src","http://en.wikipedia.org/wiki/en:Special:Filepath/"+t[t.length-1].replace("File:","")+"?width=11"):e.attr("src","http://en.wikipedia.org/wiki/en:Special:Filepath/"+t[t.length-1].replace("File:","")+"?width=140"),$(this).append(e)}}),r(e),$("#smart_col").html("").append(e),$("#wiki>a").on("click",function(e){e.stopPropagation()}),$("#smart_answer").addClass("hide"),$("#smart_col").removeClass("hide")}function s(){setTimeout(function(){G&&z?n():F||s()},2e3)}function c(){P.remove(),$(".no-results").remove()
var e=$("<div><span></span></div>")
return e.width($("#search_results").width()),e.addClass("h6 text-center no-results"),e.text("No more results available"),e}function l(){$("#dark_theme").remove(),$("#modalSwitchTheme").fadeOut(1e3,function(){$(this).remove()})}function d(){$("#light_theme").remove(),$("#modalSwitchTheme").fadeOut(1e3,function(){$(this).remove()})}function h(){$(".arrow_div").remove(),$("#arrow_parent").append("<div class='arrow_div'></div>"),X(),$(".side_btns").hide(),ee=1,$(".arrow_div").animate({width:"150px"},500,function(){$(".side_btns").fadeIn(),ee=0}),++Z}function p(){$(".side_btns").fadeOut(function(){$(".side_btns").hide(),$(".arrow_div").css("padding-left","0px"),ee=1,$(".arrow_div").animate({width:"0px"},500,function(){ee=0}),Z=0})}function u(){0===Z?h():p()}function m(){var e=$("body"),t=e.offset(),i=t.top
$("html, body").animate({scrollTop:i},500,"linear")}function g(){if($(".newside").remove(),$(".ui-autocomplete").removeClass("show"),$(window).width()<=1e3){$(".disc_back")&&$(".disc_back").css("top","180px"),$("#tap").length<=0&&!M&&D.length>0?($("body").append(K),K.on("click",function(){$(this).slideUp("fast",function(){$(this).hide()})}),M=!0):M||$("#tap").show(),0===D.length?($("#smart_answer").css("margin-top","102px"),$(".side").removeClass("full-height")):($("#smart_col").css("margin-top","62px"),$(".side").addClass("full-height")),$(".side").addClass("hide"),$("#centre_parent").css("margin-top","20px")
var e=$("<div class='newside' style='width:"+$(".nav_changer").width()+"px;'></div"),t=$("<button style='' class='cluster_lbtn btn glyphicon glyphicon-chevron-left'></button>"),i=$("<div style='float:left;height:100%;width:40px;' class=''></div>"),a=$("<div style='float:left;height:100%;width:40px;' class=''></div>"),o=$("<button style='' class='cluster_rbtn btn glyphicon glyphicon-chevron-right'></button>"),r=$("<div style='width:100%;height:100%;padding-top:5px;padding-bottom:5px;'></div>"),n=$("<div style='padding:0px !important;height:50px;width:"+($(".nav_changer").width()-80)+"px;' class='col-lg-10 col-md-10 col-sm-10 col-xs-10'></div>")
if(i.append(o),a.append(t),r.append(a),D.length>0){var s=$()
$.each(D.slice(I,N),function(e,t){var i,a=($(".nav_changer").width()-105)/4
e===N?(i=$("<div data-toggle='tooltip' data-placement='bottom' class='cluster_btn' title='"+t.capitalizeMe()+"' style='width:"+a+"px;'></div>"),i.text(t.capitalizeMe()),s=s.add(i)):(i=$("<div data-toggle='tooltip' data-placement='bottom' class='cluster_btn' title='"+t.capitalizeMe()+"' style='width:"+a+"px;'></div>"),i.text(t.capitalizeMe()),s=s.add(i))}),n.append(s),r.append(n),r.append(i),e.append(r),e.height("50"),$(".nav_changer").prepend(e),n.on("mouseenter","div",function(){$(this).css({color:"#e2e2e2","background-color":"#383838"})}),n.on("mouseleave","div",function(){$(this).css({color:"#e2e2e2","background-color":"transparent"}),n.on("click","div",function(){$(this).addClass("active"),T(this)})}),t.on("click",function(){0!==I&&(I-=3,N-=3,$(".navside").remove(),g())}),o.on("click",function(){N+3<=D.length&&(I+=3,N+=3,$(".navside").remove(),g())})}else C()
$(".newside").css("margin-top","122px")}else $("#tap").hide(),$("#centre_parent").css("margin-top","82px"),$(".newside").css("margin-top","82px"),$("#smart_col").css("margin-top","82px"),D.length>0?$(".side").removeClass("hide"):$("#smart_answer").css("margin-top","22px")}function f(){""!==$("#search").val().trim()&&$.ajax({async:!0,url:"/cgi-bin/queryret/getIds.py",data:{q:$("#search").val().trim().toLowerCase(),f:1,authenticity_token:$("meta[name='csrf-token']").attr("content")},dataType:"text",type:"GET",error:function(){O=!1}}).done(function(e){var t=JSON.parse(e)
t.error?O=!1:(q=t.ids,v(t.results,$("#search_results"),!1,!0,!1),O=!0)})}function v(e,t,i,a,o,r){if(e[0]){i?G=e[0].infobox:(O=!0,E+=10,j+=10)
var n=$()
$.each(e,function(e,t){var a=$("<div></div>"),o=$("<div style='display:block;'></div>"),s=$("<a></a>")
o.append(s),a.addClass("search_result effect"),s.addClass("search_title")
var c=t.title.replace(/_/g," ").split(" "),l=""
l=c.length>10?c.slice(0,10).join(" ")+" ...":c.slice(0,10).join(" "),i?(s.text(l.capitalizeMe()+" - Wikipedia, the free encyclopedia"),s.attr("href","http://en.wikipedia.org/wiki/"+t.title),t.url="http://en.wikipedia.org/wiki/"+t.title):(s.text(l.capitalizeMe()),s.attr("href",t.url))
var d=$("<div></div>")
d.addClass("search_green"),d.append(t.url)
var h=new Image,p="http://www.google.com/s2/favicons?domain="+t.url
h.src=p,h.width=15,h.height=15,$(h).css("margin-right","10px"),h.onload=function(){d.prepend(h),a.find(".search_info").after(d)}
var u=$("<p></p>")
if(u.addClass("search_info"),i){var m=$(t.body)
m.find(".ambox").remove(),m.find(".error").remove(),m.find(".mw-ext-cite-error").remove(),u.html($("<div/>").append(m).html())}else if(r){u=$("<div></div>"),u.addClass("search_info")
var g=t.url.replace("https://www.youtube.com/watch?v=","")
u.append("<div class='col-md-3 col-xs-3 col-sm-3 col-lg-3'><img width='100%' src='https://i.ytimg.com/vi_webp/"+g+"/default.webp'/></div>"),u.append("<div class='col-md-9 col-xs-9 col-sm-9 col-lg-9'>"+t.body.filter()+"</div>")}else u.text(t.body.filter())
a.append(o),a.append(u),n=n.add(a)}),n=n.add("<hr class='hr_breaker'>"),a?t.append(n):t.html(n),$(".search_result").on("click",function(){window.location=$(this).find(".search_title").attr("href")}),$(".search_result").on("mouseenter",function(){"light"===window.color?($(this).find(".search_title").css("color","rgba(71, 71, 71, 0.85)"),$(this).find(".search_title").css("text-decoration","underline")):"dark"===window.color&&($(this).find(".search_title").css("color","#DDDDDD"),$(this).find(".search_title").css("text-decoration","underline"))}),$(".search_result").on("mouseleave",function(){"light"===window.color?($(".search_title").css("color","#474747"),$(".search_title").css("text-decoration","none")):"dark"===window.color&&($(".search_title").css("color","#DFDDDD"),$(".search_title").css("text-decoration","none"))}),$(".effect").animate({opacity:1,queue:!1},1e3,function(){}),$(".effect").removeClass("effect"),$("#loading").remove(),$(window).scroll(y)}else{var s=c()
i||o||(O=!1,t.append(s))}}function w(e,t){if(E<q.length)q&&O&&$.ajax({url:"/cgi-bin/queryret/getMore.py",dataType:"text",type:"GET",async:!0,data:{q:""+q.slice(E,j).toString(),f:S,authenticity_token:$("meta[name='csrf-token']").attr("content")},error:function(){$("#search_results").append(i),O=!1}}).done(function(e){var t=JSON.parse(e)
t.error?O=!1:v(t.results,$("#search_results"),!1,!0,!1)})
else{var i=c()
$("#search_results").append(i),O=!1}}function y(){$(window).scrollTop()+$(window).height()>$(document).height()-100&&($(window).unbind("scroll"),O&&($("#search_results").append(P),$("#loading").width($("#search_results").width()),setTimeout(function(){w(E,j,!0)},1e3)))}function _(){$.ajax({async:!0,url:"/cgi-bin/queryret/getIds.py",dataType:"text",type:"GET",data:{q:$("#search").val().trim().toLowerCase(),f:2,authenticity_token:$("meta[name='csrf-token']").attr("content")},error:function(){}}).done(function(e){try{var t=JSON.parse(e)
t.error||v(t.results,$("#wikiMain"),!0,!0,!1)}catch(i){}})}function x(e){$.ajax({async:e,url:"/cgi-bin/queryret/getIds.py",dataType:"text",type:"GET",data:{q:$("#search").val().trim().toLowerCase(),f:3,authenticity_token:$("meta[name='csrf-token']").attr("content")},error:function(){}}).done(function(e){try{var t=JSON.parse(e)
t.error||v(t.results,$("#news"),!1,!0,!0)}catch(i){}})}function b(){""!==$("#search").val().trim()&&$.ajax({async:!0,url:"/cgi-bin/new2/smart/getSmartAns.py",dataType:"text",type:"GET",data:{q:$("#search").val().trim().toLowerCase(),authenticity_token:$("meta[name='csrf-token']").attr("content")},error:function(){$("#smart_answer").removeClass("show"),$("#smart_col").addClass("hide")}}).done(function(e){try{var t=JSON.parse(e.replace(/\n/g,"").trim())
if(t.error)return $("#smart_answer").removeClass("show"),void $("#smart_col").addClass("hide")
$.isEmptyObject(t)?(console.log("No smart  ans questions !"),$("#smart_answer").addClass("hide"),$("#smart_col").addClass("hide")):$.each(t,function(e,t){window.SA=t
try{"wiki"===e?z=!0:(J=e,U[e]())}catch(i){console.log(i),z=!0}})}catch(i){console.log("No smart  ans questions !"),$("#smart_answer").addClass("hide"),$("#smart_col").addClass("hide")}})}function k(){D=[],$(".side").removeClass("col-md-2 col-lg-2 hide"),$(".side").addClass("col-md-1 col-lg-1"),$("#centre_parent").parent().removeClass("col-lg-7 col-md-7 col-lg-pull-3 col-md-pull-3"),$("#centre_parent").parent().addClass("col-lg-8 col-md-8 col-lg-pull-3 col-md-pull-3"),$("#smart_col").parent().removeClass("col-lg-push-7 col-md-push-7 col-lg-3 col-md-3"),$("#smart_col").parent().addClass("col-lg-push-8 col-md-push-8 col-lg-3 col-md-3"),$(".nav-sidebar").addClass("hide")}function C(){""!==$("#search").val().trim()&&$.ajax({async:!0,url:"/cgi-bin/cluster/getClusters.py",dataType:"text",type:"GET",data:{q:$("#search").val().trim().toLowerCase(),authenticity_token:$("meta[name='csrf-token']").attr("content")},error:function(){k()}}).done(function(e){var t=JSON.parse(e)
if(t.error)return void k()
V=t
var i=[]
if($.each(t,function(e,t){i.push(Q[e])}),i.length>0){var a=$()
D=i,i.push("Videos"),$.each(i,function(e,t){if(t){var i=$("<li></li>"),o=$("<a></a>")
o.attr("data-toggle","tooltip"),o.attr("data-placement","right"),o.attr("title",t.capitalizeMe()),o.on("click",function(){$(".active").toggleClass("active not_active"),$(this).parent().toggleClass("not_active active"),T(this)}),o.text(t.capitalizeMe()),i.append(o),i.addClass("not_active"),i.css("opacity","0"),a=a.add(i),$(".side").removeClass("hide"),g()}}),$(".nav-sidebar").append(a),a.animate({opacity:"1",queue:!1},1e3,function(){})}else console.log("no clusters"),D=[],$(".side").html(""),$(".side").removeClass("hide"),$(".side").removeClass("col-md-2 col-lg-2"),$(".side").addClass("col-md-1 col-lg-1"),$("#centre_parent").parent().removeClass("col-lg-7 col-md-7 col-lg-pull-3 col-md-pull-3"),$("#centre_parent").parent().addClass("col-lg-8 col-md-8 col-lg-pull-3 col-md-pull-3"),$("#smart_col").parent().removeClass("col-lg-push-7 col-md-push-7 col-lg-3 col-md-3"),$("#smart_col").parent().addClass("col-lg-push-8 col-md-push-8 col-lg-3 col-md-3")})}function T(e){var t=$(e).text()
if("News"!==t?$("#news").addClass("hide"):$("#news").removeClass("hide"),"Videos"===t)return S=4,$.ajax({async:!0,url:"/cgi-bin/queryret/getIds.py",dataType:"text",type:"GET",data:{q:A,f:4,authenticity_token:$("meta[name='csrf-token']").attr("content")},error:function(){var e=c()
$("#search_results").append(e)}}).done(function(e){var t=JSON.parse(e)
if(t.error){var i=c()
$("#search_results").append(i)}else v(t.results,$("#search_results"),!1,!1,!1,!0)}),!1
S=1
var i=Y[t],a=V[i]
return q=a,E=0,j=10,$.ajax({async:!0,url:"/cgi-bin/queryret/getMore.py",dataType:"text",type:"GET",data:{q:q.slice(E,j).toString(),f:S,authenticity_token:$("meta[name='csrf-token']").attr("content")},error:function(){var e=c()
$("#search_results").append(e)}}).done(function(e){var t=JSON.parse(e)
if(t.error){var i=c()
$("#search_results").append(i)}else v(t.results,$("#search_results"),!1,!1,!1)}),!1}$.ajaxSetup({cache:!0})
var S=1,A=$("#search").val().trim(),E=0,j=10,q=[],I=0,N=4,O=!0,D=[]
window.SA={}
var M=!1,z=!1,F=!1,V=[],G="",L="",J="",H="SECRET_KEY"
window.cacheImage=function(e,t){if("undefined"!=typeof Storage){var i=localStorage.getItem(e+"#image#"+t.width+"#key#"+H)
i?t.setAttribute("src",i):!function(e,t){var i=new Image
i.setAttribute("crossOrigin","Anonymous"),i.setAttribute("src",t),i.onload=function(){console.log(this.getAttribute("src"))
var a=document.createElement("CANVAS"),o=a.getContext("2d")
a.height=e.height,a.width=e.width,o.drawImage(i,0,0,e.width,e.height)
var r=a.toDataURL("image/png")
console.log(r),e.setAttribute("src",r),localStorage.setItem(t+"#image#"+e.width+"#key#"+H,r),a=null}}(t,e)}else t.setAttribute("src",e)},t()
var R=function(){z=!0,e("/js/min/"+J+".min.js","js")},B=function(){F=!0,e("/js/min/"+J+".min.js","js")},U={general:R,sports:B,stock:B,train:B,weather:R,movie:R,exam:B,location:B,minerals:B,differences:R,wiki:R,dict:R,theatre:R,highway:B,"cricket-players":R,ministers:B,bank:B,highcourt:B,discography:R,flight:B,tennis:R}
console.log(U)
var P=$("<div id='loading' style='background-color:#333333;'><img src='/images/ajax-loader.gif' width='20' height='20'/></div>"),W=$("<div style='position:relative;top:0;bottom:0;padding-top:18px;height:50px;'><span id='light' class='side_btns' data-toggle='tooltip' title='Light Theme'><img style='top:0;bottom:0;margin:auto;width:31px;height:27px;' src='/images/lighttheme.png'></span><span   class='side_btns' id='dark' data-toggle='tooltip' title='Dark Theme'><img style='top:0;bottom:0;margin:auto;width:31px;height:27px;margin-left:5px;' src='/images/darktheme.png'>   </span> <span class='side_btns' data-toggle='tooltip' title='Want Help !'>  <img style='top:0;bottom:0;margin:auto;width:31px;height:27px;margin-left:5px;' src='/images/howtouse.png'>      </span> </div>"),K=$("<div id='tap' style='position:absolute;top:122px;width:100%;height:46px;z-index:99;'><button class='btn tap-btn' style='width:100%;height:100%;' type='button'>Tap to see clusters</button></div>"),Y={Architecture:"100",Arts:"101",Education:"102",Entertainment:"103",Finance:"104",Food:"105",Health:"106",History:"107",News:"108",Sports:"109",Technology:"110",Religion:"111",Videos:"000"},Q={100:"Architecture",101:"Arts",102:"Education",103:"Entertainment",104:"Finance",105:"Food",106:"Health",107:"History",108:"News",109:"Sports",110:"Technology",111:"Religion","000":"Videos"}
s(),window.switchImg=function(){var e=[],t=$(".switch")
return $.each(t,function(){cacheImage("http://srmse-v2.github.io/V2/images/"+window.color+"/"+$(this).attr("name"),this),e.push($(this))}),e},cacheImage("http://srmse-v2.github.io/V2/images/"+window.color+"/srmselogo.png",document.getElementById("srmse-logo"))
var X=function(){$(".arrow_div").css("padding-left","20px"),$(".arrow_div").append(W),$(".side_btns").css("cursor","pointer"),$("#light").on("click",function(){if("light"===window.color)return a(),void l()
$("#light_theme").remove(),window.color="light",document.cookie="color=light;expires=Fri, 31 Dec 9999 23:59:59 GMT;path=/"
var e=window.switchImg(),t=e.length+1,o=0
console.log(J),basket.require({url:"http://srmse-v2.github.io/V2/css/light/search"+H+".min.css",execute:!1,expire:168}).then(function(e){var a=e[0].data
i(a,"light_theme"),++o,o===t&&l()}),a(),$.each(e,function(e,i){!function(e){e.load(function(){++o,o===t&&l()})}(i)})}),$("#dark").on("click",function(){if("dark"===window.color)return a(),void d()
$("#dark_theme").remove(),window.color="dark",document.cookie="color=dark;expires=Fri, 31 Dec 9999 23:59:59 GMT;path=/"
var e=window.switchImg(),t=e.length+1,o=0
console.log(J),basket.require({url:"http://srmse-v2.github.io/V2/css/dark/search"+H+".min.css",execute:!1,expire:168}).then(function(e){var a=e[0].data
i(a,"dark_theme"),++o,o===t&&d()}),a(),$.each(e,function(e,i){!function(e){e.load(function(){++o,o===t&&d()})}(i)})})},Z=0,ee=0
$("#arrow,#arrow_parent").on("swipeleft",function(){0===Z&&0===ee&&h()}),$("#arrow,#arrow_parent").on("swiperight",function(){0!==Z&&0===ee&&p()}),$("#arrow").on("click",u),$(function(){$(document).on("scroll",function(){$(window).scrollTop()>100?($(".scroll-top-wrapper").addClass("show"),setTimeout(function(){$(".scroll-top-wrapper").removeClass("show")},4e3)):$(".scroll-top-wrapper").removeClass("show")}),$(".scroll-top-wrapper").on("click",m)}),g(),$(window).on("resize",g),$("#search_btn").on("submit",function(){if(""!==$("#search").val().trim()){var e=$("#search").val().trim()
o(e)}return!1}),$("#logo").on("click",function(){window.location="/"}),$(window).bind("scroll",y),f(),_(),x(),b(),C()}),String.prototype.capitalizeMe=function(){try{return this.charAt(0).toUpperCase()+this.substr(1).toLowerCase()}catch(e){return""}},String.prototype.filter=function(){try{var e=this+" "
return e=e.replace(/\\[a-z](.*?)\s/g," ").replace(/\n+/g," ").replace(/\t+/g," ").replace(/\r+/g," ").replace(/\\/g," ").replace(/&#(.*?)\s;/g," ").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/<(.*?)>(.*?)<\/(.*?)>/g," ").replace(/<(.*?)>/g," ").replace(/\s+/g," ").trim()}catch(t){return""}},$.prototype.setTextValue=function(e){""===e||void 0===e?$(this).remove():$(this).text(e)},$.prototype.setHtmlValue=function(e,t){""===t||void 0===t?$(this).remove():$(this).html(e)}}()
