(function() {
    var DIFFERENCES = $('<div class="module" style="border:0px;color:white;text-align:left" id="differences"><h3 style="margin-top:0px;">Difference between <span class="dif_title1"></span> and <span class="dif_title2"></span></h3><h6 class="dif_text"></h6><h5><a href="#" style="color:#7f8c8d !important;" class="dif_link"></a></h5></div>');
    if ($("#differences").length === 0) {
    $("#smart_answer").addClass("hide");
        CRICKET_STATS.find(".dif_title1").setTextValue(window.val["title1"]);
        CRICKET_STATS.find(".dif_title2").setTextValue(window.val["title2"]);
        CRICKET_STATS.find(".dif_link").setTextValue(window.val["link"]);
        CRICKET_STATS.find(".dif_link").css('color', '#2ECC40');
        var re1 = new RegExp(window.val["title1"], "g");
        var re2 = new RegExp(window.val["title2"], "g");
        CRICKET_STATS.find(".dif_text").html(window.val["description"].replace(re1, "<b>" + window.val["title1"] + "</b>").replace(re2, "<b>" + window.val["title2"] + "</b>"));
        CRICKET_STATS.find(".dif_text").append("<span><a style=\"padding-left:5px; color: #7f8c8d !important;\" target=\"_blank\" href=\"" + window.val["link"] + "\" >...</a></span>");

        CRICKET_STATS.find(".dif_text >span>a").css('text-decoration', 'none');
        CRICKET_STATS.find(".dif_link").attr("href", window.val["link"]);
        CRICKET_STATS.find(".dif_link").attr("target", "_blank");
        CRICKET_STATS.find(".dif_link").css('font-size', '14px');
        CRICKET_STATS.find(".dif_text").css('font-size', '16px');
        $("#predefined_questions").before(DIFFERENCES);
        $("#smart_col").removeClass("hide");

    }
})();
